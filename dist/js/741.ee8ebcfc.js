"use strict";(self["webpackChunkmy_vue3_project"]=self["webpackChunkmy_vue3_project"]||[]).push([[741],{920:function(t,e,a){a.d(e,{Z:function(){return f}});var o=a(3396),s=a(2291);const n=t=>((0,o.dD)("data-v-22cb7b90"),t=t(),(0,o.Cn)(),t),i={class:"nav-bar"},d=n((()=>(0,o._)("img",{src:s,alt:""},null,-1))),l={class:"center"},c=(0,o.Uk)("default"),r={class:"right"};function u(t,e,a,s,n,u){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",{class:"left",onClick:e[0]||(e[0]=(...t)=>s.goback&&s.goback(...t))},[(0,o.WI)(t.$slots,"left",{},(()=>[d]),!0)]),(0,o._)("div",l,[(0,o.WI)(t.$slots,"default",{},(()=>[c]),!0)]),(0,o._)("div",r,[(0,o.WI)(t.$slots,"right",{},void 0,!0)])])}var p=a(678),v={name:"NavBar",setup(){const t=(0,p.tv)(),e=()=>{t.go(-1)};return{goback:e}}},g=a(89);const A=(0,g.Z)(v,[["render",u],["__scopeId","data-v-22cb7b90"]]);var f=A},2762:function(t,e,a){a.d(e,{Z:function(){return C}});var o=a(3396);const s={class:"goods"};function n(t,e,a,n,i,d){const l=(0,o.up)("GoodsListItem");return(0,o.wg)(),(0,o.iD)("div",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.goods,((t,e)=>((0,o.wg)(),(0,o.j4)(l,{key:t,product:t},null,8,["product"])))),128))])}var i=a(7139);const d=t=>((0,o.dD)("data-v-2d860f26"),t=t(),(0,o.Cn)(),t),l={alt:""},c={class:"goods-info"},r={class:"price"},u=d((()=>(0,o._)("small",null,"$",-1))),p={class:"collect"};function v(t,e,a,s,n,d){const v=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.iD)("div",{class:"goods-list-item",onClick:e[0]||(e[0]=(...t)=>s.itemClick&&s.itemClick(...t))},[(0,o.wy)((0,o._)("img",l,null,512),[[v,a.product.cover_url]]),(0,o._)("div",c,[(0,o._)("p",null,(0,i.zw)(a.product.title),1),(0,o._)("span",r,[u,(0,o.Uk)((0,i.zw)(a.product.price),1)]),(0,o._)("span",p,(0,i.zw)(a.product.collects_count),1)])])}var g=a(678),A={name:"GoodsListItem",props:{product:Object,default(){return{}}},setup(t){const e=(0,g.tv)(),a=()=>{e.push({path:"/detail",query:{id:t.product.id}})};return{itemClick:a}}},f=a(89);const m=(0,f.Z)(A,[["render",v],["__scopeId","data-v-2d860f26"]]);var k=m,_={name:"GoodsList",props:{goods:{type:Array,default(){return[]}}},components:{GoodsListItem:k}};const w=(0,f.Z)(_,[["render",n],["__scopeId","data-v-e41a1ef0"]]);var C=w},6299:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var o=a(3396),s=a(7139);const n=(0,o.Uk)("热卖"),i=(0,o.Uk)("新书"),d=(0,o.Uk)("加入购物车"),l=(0,o.Uk)("立即购买"),c=["innerHTML"];function r(t,e,a,r,u,p){const v=(0,o.up)("nav-bar"),g=(0,o.up)("van-image"),A=(0,o.up)("van-tag"),f=(0,o.up)("van-button"),m=(0,o.up)("van-card"),k=(0,o.up)("van-tab"),_=(0,o.up)("goods-list"),w=(0,o.up)("van-tabs");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" 商品详情:"+(0,s.zw)(r.id),1)])),_:1}),(0,o.Wm)(g,{width:"100%","lazy-load":"",style:{"margin-top":"50px"},src:t.detail.cover_url},null,8,["src"]),(0,o.Wm)(m,{style:{"text-align":"left"},num:t.detail.stock,price:t.detail.price+".00",desc:t.detail.description,title:t.detail.title},{tags:(0,o.w5)((()=>[(0,o.Wm)(A,{plain:"",type:"danger"},{default:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)(A,{plain:"",type:"danger"},{default:(0,o.w5)((()=>[i])),_:1})])),footer:(0,o.w5)((()=>[(0,o.Wm)(f,{type:"warning",onClick:r.handlerAddCart},{default:(0,o.w5)((()=>[d])),_:1},8,["onClick"]),(0,o.Wm)(f,{type:"danger",onClick:r.goToCart},{default:(0,o.w5)((()=>[l])),_:1},8,["onClick"])])),_:1},8,["num","price","desc","title"]),(0,o.Wm)(w,{active:r.active,"onUpdate:active":e[0]||(e[0]=t=>r.active=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{title:"概述"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"content",innerHTML:t.detail.details},null,8,c)])),_:1}),(0,o.Wm)(k,{title:"评论"}),(0,o.Wm)(k,{title:"相关"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{goods:t.like_goods},null,8,["goods"])])),_:1})])),_:1},8,["active"])])}a(6743);var u=a(4691),p=a(920),v=a(678),g=a(4870),A=a(7707);function f(t){return(0,A.W)({url:"/api/goods/"+t})}var m=a(2762),k=a(9862),_=a(65),w={name:"Detail",components:{NavBar:p.Z,GoodsList:m.Z},setup(){const t=(0,v.yj)(),e=(0,v.tv)(),a=(0,_.oR)();let s=(0,g.iH)(0),n=(0,g.qj)({detail:{},like_goods:[],comments:[]}),i=(0,g.iH)(1);(0,o.bv)((()=>{s.value=t.query.id,f(s.value).then((t=>{n.detail=t.data.goods,n.like_goods=t.data.like_goods}))}));const d=()=>{(0,k.Z5)({goods_id:n.detail.id,num:1}).then((t=>{"201"!=t.status&&"204"!=t.status||(u.Z.success("成功加入到购物车"),a.dispatch("updateCart"))}))},l=()=>{(0,k.Z5)({goods_id:n.detail.id,num:1}).then((t=>{console.log(t),"201"!=t.status&&"204"!=t.status||(u.Z.success("成功加入到购物车"),a.dispatch("updateCart"),e.push({path:"/shopcart"}))}))};return{id:s,...(0,g.BK)(n),active:i,handlerAddCart:d,goToCart:l}}},C=a(89);const W=(0,C.Z)(w,[["render",r]]);var h=W},2291:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABk0lEQVRoQ+2Z3UYFURSA1/c8dVcv0H23iYiIiIiIiH5ERMQhIiIi0kPUfd3Vk/QAO5s5HJmzW2f/tbZm7saZGd+31p519lqDNH7QOL8MAn+dwSED/y4DzrkTEVkWkS8ReQX8efRRdQl18McTtJ/AfDS9SL0q1APvud+BRfMCU+A996n5JRSAPwLOUqLv7y36DgTgD4HzVPiiAgH4A+AiB3wxgQD8PnCZC76IgHPOl8m+2r4HXOWEzy4QgN8FRrnhswoE4HeA6xLw2QQC8NvATSn4LAIB+C3gtiR8skCg2mwCd6XhkwQC8BvAfQ34aIEA/DrwUAs+SiAAvwY81oSPFfgQkbkfoKvAU234WIE3EVloWcBvEya7qrFLG0vI0zb9Eo/D3XQZVUjY/yNTSNjfSigk7G/mFBL2t9MKCfsNjULCfkupkLDf1Csk7I9VFBL2B1sKCfujRYWE/eHuLxLtfB+Ysot9AZZSGqGi0+k+sG4Ms9L99mz++0BKdDX3Vs+ABmqWawaBWaJV4tohAyWiOsszvwGAjbUxED2S5gAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=741.ee8ebcfc.js.map