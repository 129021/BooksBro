{"version":3,"file":"js/49.b34dc868.js","mappings":"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","sources":["webpack://my_vue3_project/./src/network/user.js","webpack://my_vue3_project/./src/components/common/navbar/NavBar.vue","webpack://my_vue3_project/./src/components/common/navbar/NavBar.vue?c028","webpack://my_vue3_project/./src/views/profile/Profile.vue","webpack://my_vue3_project/./src/views/profile/Profile.vue?3af4"],"sourcesContent":["import {\r\n    request\r\n} from './request';\r\n\r\nexport function register(data) {\r\n    return request({\r\n        url: '/api/auth/register',\r\n        method:'post',\r\n        data,\r\n    })\r\n}\r\n\r\nexport function login(data) {\r\n    return request({\r\n        url: '/api/auth/login',\r\n        method:'post',\r\n        data,\r\n    })\r\n}\r\n\r\nexport function logout() {\r\n    return request({\r\n        url: '/api/auth/logout',\r\n        method:'post',\r\n   \r\n    })\r\n}\r\n\r\n// 得到用户信息\r\nexport function getUser() {\r\n    return request({\r\n        url: '/api/user',\r\n        \r\n   \r\n    })\r\n}","<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"left\" @click=\"goback\">\r\n      <slot name=\"left\">\r\n        <img src=\"~assets/images/left.png\" alt=\"\" />\r\n      </slot>\r\n    </div>\r\n    <div class=\"center\">\r\n      <slot>default</slot>\r\n    </div>\r\n    <div class=\"right\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nexport default {\r\n  name: \"NavBar\",\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const goback = () => {\r\n      //   console.log(\"goback\");\r\n      //   router.go(delta:-1);\r\n      router.go(-1);\r\n    };\r\n\r\n    return {\r\n      goback,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.nav-bar {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 9;\r\n  height: 45px;\r\n  line-height: 45px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 0 rgba(100, 100, 100, 0.1);\r\n  display: flex;\r\n}\r\n\r\n.left,\r\n.right {\r\n  width: 60px;\r\n}\r\n\r\n.left img {\r\n  width: 45px;\r\n  height: 45px;\r\n  padding: 13px;\r\n}\r\n.nav-bar .center {\r\n  flex: 1;\r\n  /* background-color: red; */\r\n}\r\n</style>","import { render } from \"./NavBar.vue?vue&type=template&id=22cb7b90&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=22cb7b90&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22cb7b90\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <nav-bar>\r\n      <template v-slot:default> 个人中心 </template>\r\n    </nav-bar>\r\n\r\n    <div class=\"user-box\">\r\n      <div class=\"user-info\">\r\n        <div class=\"info\">\r\n          <img src=\"~assets/images/user.png\" />\r\n          <div class=\"user-desc\">\r\n            <span>昵称：{{ user.name }}</span>\r\n            <span>登录名：{{ user.email }}</span>\r\n            <span class=\"name\">个性签名:我的Vue3图书商城项目</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ul class=\"user-list\">\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/collect')\">\r\n          <span>我的收藏</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/order')\">\r\n          <span>我的订单</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/setting')\">\r\n          <span>账号管理</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/address')\">\r\n          <span>地址管理</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/about')\">\r\n          <span>关于我们</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div style=\"margin: 50px; margin-top: 30px\">\r\n      <van-button round block color=\"red\" @click=\"tologout\"\r\n        >退出登录</van-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\nimport { logout, getUser } from \"network/user\";\r\nimport { useRouter ,useRoute} from \"vue-router\";\r\nimport { Toast } from \"vant\";\r\nimport { useStore } from \"vuex\";\r\nimport { onMounted, reactive, toRefs } from \"vue\";\r\nexport default {\r\n  name: \"Profile\",\r\n  components: {\r\n    NavBar,\r\n  },\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n    const store = useStore();\r\n\r\n    const state = reactive({\r\n      user: {},\r\n    });\r\n\r\n    const tologout = () => {\r\n      logout().then((res) => {\r\n        if (res.status == \"204\") {\r\n          Toast.success(\"退出成功！\");\r\n\r\n          // 清除window.localStroge中的token\r\n          window.localStorage.setItem(\"token\", \"\");\r\n\r\n          store.commit(\"setIsLogin\", false);\r\n\r\n          setTimeout(() => {\r\n            router.push({\r\n              path: \"/login\",\r\n            });\r\n          }, 500);\r\n        }\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      getUser().then((res) => {\r\n        console.log(res);\r\n        state.user = res.data;\r\n      });\r\n    });\r\n\r\n    // 跳转方法\r\n    const goTo = (path, query) => {\r\n      router.push({ path, query: query || {} });\r\n    };\r\n\r\n    return {\r\n      tologout,\r\n      ...toRefs(state),\r\n      goTo,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#box {\r\n  background: #fcfcfc;\r\n  height: 100vh;\r\n}\r\n.user-box {\r\n  margin-top: 65px;\r\n}\r\n\r\n.user-header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 10000;\r\n  width: 100%;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  padding: 0 10px;\r\n  color: #252525;\r\n  background: #fff;\r\n  border-bottom: 1px solid #dcdcdc;\r\n}\r\n.user-name {\r\n  font-size: 14px;\r\n}\r\n.user-info {\r\n  width: 94%;\r\n  margin: 10px;\r\n  height: 115px;\r\n  background: linear-gradient(90deg, #31c7a7, #a1c7c7);\r\n  box-shadow: 0 2px 5px #269090;\r\n  border-radius: 6px;\r\n  margin-top: 50px;\r\n  text-align: left;\r\n}\r\n\r\n.info {\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 25px 20px;\r\n}\r\n\r\nimg {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  margin-top: 4px;\r\n}\r\n.user-desc {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n  line-height: 20px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n.user-list span {\r\n  color: balck;\r\n  font-size: 14px;\r\n  padding: 2px 20px 0 20px;\r\n}\r\n.account-setting {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 20px;\r\n  font-size: 13px;\r\n  color: #fff;\r\n}\r\n.van-icon-setting-o {\r\n  font-size: 16px;\r\n  vertical-align: -3px;\r\n  margin-right: 4px;\r\n}\r\n.user-list {\r\n  padding: 0 8px;\r\n  margin-top: 40px;\r\n}\r\nli {\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n\r\n  margin: 20px 0 !important;\r\n  background: #ffffff;\r\n  border-radius: 3px;\r\n}\r\n.van-icon-arrow {\r\n  margin-top: 13px;\r\n  padding-right: 20px;\r\n}\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=50cb098e&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=50cb098e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-50cb098e\"]])\n\nexport default __exports__"],"names":["register","data","request","url","method","login","logout","getUser","class","_createElementVNode","src","_imports_0","alt","_createElementBlock","onClick","$setup","_renderSlot","_ctx","_hoisted_2","undefined","name","setup","router","useRouter","goback","go","__exports__","render","style","_createVNode","_component_nav_bar","default","_hoisted_5","_toDisplayString","email","_hoisted_7","_hoisted_9","_component_van_icon","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_component_van_button","round","block","color","components","NavBar","store","useStore","state","reactive","user","tologout","then","res","status","window","localStorage","setItem","commit","setTimeout","push","path","onMounted","console","log","goTo","query","toRefs"],"sourceRoot":""}