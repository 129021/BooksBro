{"version":3,"file":"js/736.9f6830e0.js","mappings":"oLACOA,MAAM,S,4EAAXC,EAAAA,EAAAA,IAGM,MAHN,EAGM,gBAFFA,EAAAA,EAAAA,IAAyFC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAnDC,EAAAA,OAAK,CAApBC,EAAKC,M,WAA5BC,EAAAA,EAAAA,IAAyFC,EAAA,CAA3CC,IAAKJ,EAAOK,QAASL,GAAnE,+B,6ECA8BM,IAAI,I,GAC/BX,MAAM,c,GAEHA,MAAM,S,UAAQY,EAAAA,EAAAA,GAAgB,aAAT,KAAC,K,GACtBZ,MAAM,W,mEALhBC,EAAAA,EAAAA,IAOM,OAPDD,MAAM,kBAAmBa,QAAK,oBAAEC,EAAAA,WAAAA,EAAAA,aAAAA,KAArC,WACEF,EAAAA,EAAAA,GAAyC,MAAzC,EAAyC,cAA5BR,EAAAA,QAAQW,cACrBH,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAAwB,UAAAI,EAAAA,EAAAA,IAAnBZ,EAAAA,QAAQa,OAAK,IAClBL,EAAAA,EAAAA,GAA4D,OAA5D,EAA4D,CAAxCM,GAAwC,iBAAtBd,EAAAA,QAAQe,OAAK,MACnDP,EAAAA,EAAAA,GAAuD,OAAvD,GAAuDI,EAAAA,EAAAA,IAA/BZ,EAAAA,QAAQgB,gBAAc,O,aAOpD,GACEC,KAAM,gBACNC,MAAO,CACLZ,QAASa,OACTC,UACE,MAAO,KAIXC,MAAMH,GACJ,MAAMI,GAAOC,EAAAA,EAAAA,MAEPC,EAAU,KACdF,EAAOG,KAAK,CAACC,KAAK,UAAUC,MAAM,CAACC,GAAGV,EAAMZ,QAAQsB,OAItD,MAAO,CACLJ,UAAAA,K,QCxBN,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFAA,GACIZ,KAAK,YACLC,MAAM,CACVY,MAAM,CACFC,KAAKC,MACLZ,UACI,MAAO,MAIXa,WAAW,CACPC,cAAAA,IGbR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,mGCROP,GAAG,Q,WAEqB,U,GAStBhC,MAAM,W,GACJA,MAAM,W,GACJwC,IAAI,U,iMAbfvC,EAAAA,EAAAA,IAiCM,MAjCN,EAiCM,EAhCJwC,EAAAA,EAAAA,IAEUC,EAAA,MADSlB,SAAO,SAAC,IAAM,M,OA+B7B,SA5BJiB,EAAAA,EAAAA,IAIeE,EAAA,CAHZC,OAAQ,CAAC,KAAM,KAAM,MACrBC,WAAU/B,EAAAA,UAFb,8BAGUA,EAAAA,eAGVF,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBJA,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,EAhBJA,EAAAA,EAAAA,GAQM,MARN,EAQM,EAJJ6B,EAAAA,EAAAA,IACcK,EAAA,CADCC,QAASjC,EAAAA,SAAO,qBAG/B2B,EAAAA,EAAAA,IAAgDO,EAAA,CAApCC,WAAYnC,EAAAA,YAAU,wBAPpC,MAUA2B,EAAAA,EAAAA,IAGeE,EAAA,CAFZC,OAAQ,CAAC,KAAM,KAAM,MACrBC,WAAU/B,EAAAA,UAFb,wBAKA2B,EAAAA,EAAAA,IAA0CS,EAAA,CAA9BhB,MAAOpB,EAAAA,WAAS,uBAK5B,SADJ2B,EAAAA,EAAAA,IAAsDU,EAAA,CAAvBC,OAAMtC,EAAAA,MAAI,0BAAvBA,EAAAA,gB,gCChCfd,MAAM,a,iBAOyBW,IAAI,I,mEAPxCV,EAAAA,EAAAA,IAWM,MAXN,EAWM,gBAVJA,EAAAA,EAAAA,IASMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAPoBC,EAAAA,WAAWiD,MAAK,OAAhChD,EAAMC,M,WAFhBL,EAAAA,EAAAA,IASM,OARJD,MAAM,iBAELS,IAAKJ,EAAK2B,IAHb,EAKEpB,EAAAA,EAAAA,GAGC,KAHE0C,KAAK,GAAIzC,SAAK,YAAUC,EAAAA,SAAST,EAAK2B,KAAE,cAA3C,WACGpB,EAAAA,EAAAA,GAAsC,MAAtC,EAAsC,cAAzBP,EAAKU,cACnBH,EAAAA,EAAAA,GAA2B,YAAAI,EAAAA,EAAAA,IAAnBX,EAAKY,OAAK,IAFpB,UALF,Q,aAiBJ,GACEI,KAAM,YACNC,MAAO,CACL2B,WAAY,CACVd,KAAMC,MACNZ,UACE,MAAO,MAKbC,QACI,MAAMC,GAAOC,EAAAA,EAAAA,MACP4B,EAAUvB,IACZN,EAAOG,KAAK,CAACC,KAAK,UAAUC,MAAM,CAACC,GAAAA,MAIvC,MAAO,CACHuB,SAAAA,K,QC/BV,MAAMtB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCROjC,MAAM,e,wDAAXC,EAAAA,EAAAA,IAUM,MAVN,EAUM,gBATJA,EAAAA,EAAAA,IAQMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANoBC,EAAAA,QAAM,CAAtBC,EAAMC,M,WAFhBL,EAAAA,EAAAA,IAQM,OAPJD,OAAK,SAAC,mBAAkB,CAAAwD,OAIRlD,GAAOQ,EAAAA,gBAFtBL,IAAKH,EACLO,QAAK,GAAEC,EAAAA,UAAUR,IAJpB,EAOEM,EAAAA,EAAAA,GAAuB,aAAAI,EAAAA,EAAAA,IAAdX,GAAI,IAPf,iB,cAcJ,GACEgB,KAAM,aACNC,MAAO,CACLsB,OAAQ,CACNT,KAAMC,MACNZ,QAAS,KAGbC,MAAMH,GAAM,KAACmC,IACX,IAAIC,GAAelB,EAAAA,EAAAA,IAAI,GAEvB,MAAMZ,EAAatB,IACjBoD,EAAaC,MAAQrD,EACrBmD,EAAK,WAAWnD,IAGlB,MAAO,CACLoD,aAAAA,EACA9B,UAAAA,KC3BN,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,oBCJO,SAASgC,IACZ,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,eAMN,SAASC,EAAa5B,EAAO,QAAS6B,EAAO,GAChD,OAAOH,EAAAA,EAAAA,GAAQ,CACXC,IAAK,cAAgB3B,EAAO,WAAa6B,I,iCCPtChE,MAAM,YAAkCW,IAAI,I,6GAN7CP,EAAAA,QAAQ6D,SAAAA,EAAAA,EAAAA,OADhB1D,EAAAA,EAAAA,IASY2D,EAAA,C,MAPVlE,MAAM,WACLmE,SAAU,IACX,kBAAgB,SAJlB,C,kBAMkB,IAAgC,gBAAhDlE,EAAAA,EAAAA,IAEiBC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFuBC,EAAAA,SAAO,CAAvBC,EAAMC,M,WAA9BC,EAAAA,EAAAA,IAEiB6D,EAAA,CAFiC3D,IAAKH,GAAK,C,kBAC1D,IAAsD,WAAtDM,EAAAA,EAAAA,GAAsD,MAAtD,EAAsD,cAAvBP,EAAKgE,c,KADtC,kB,QANF,eAaF,OACEhD,KAAM,aACNC,MAAO,CACLyB,QAASX,MACTZ,UACE,MAAO,MCZb,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QP4CA,GACEH,KAAM,OACNgB,WAAY,CACViC,OADU,IAEVC,UAFU,EAGVC,WAHU,EAIVC,UAJU,IAKVC,QALU,IAMVC,WAAAA,GAGFC,QAAS,GAETnD,QACE,MAAMwB,GAAaT,EAAAA,EAAAA,IAAI,IAEvB,IAAIqC,GAAQrC,EAAAA,EAAAA,IAAI,GAGhB,MAAMN,GAAQ4C,EAAAA,EAAAA,IAAS,CACrBC,MAAO,CAAEf,KAAM,EAAGgB,KAAM,IACxBC,UAAW,CAAEjB,KAAM,EAAGgB,KAAM,IAC5BE,IAAK,CAAElB,KAAM,EAAGgB,KAAM,MAGxB,IAAIG,GAAc3C,EAAAA,EAAAA,IAAI,SACtB,MAAM4C,GAAYC,EAAAA,EAAAA,KAAS,IAClBnD,EAAMiD,EAAYxB,OAAOqB,OAGlC,IAAIM,GAAKR,EAAAA,EAAAA,IAAS,IAEdS,GAAa/C,EAAAA,EAAAA,KAAI,GAGjBgD,GAAShD,EAAAA,EAAAA,IAAI,MAGbO,GAAUP,EAAAA,EAAAA,IAAI,KAElBiD,EAAAA,EAAAA,KAAU,KACR7B,IAAiB8B,MAAMC,IAErB1C,EAAWU,MAAQgC,EAAIC,KAAK1D,MAAM0D,KAElC7C,EAAQY,MAAQgC,EAAIC,KAAKC,UAG3B9B,EAAa,SAAS2B,MAAMC,IAE1BzD,EAAM6C,MAAMC,KAAOW,EAAIC,KAAK1D,MAAM0D,QAGpC7B,EAAa,aAAa2B,MAAMC,IAG9BzD,EAAM+C,UAAUD,KAAOW,EAAIC,KAAK1D,MAAM0D,QAGxC7B,EAAa,OAAO2B,MAAMC,IAExBzD,EAAMgD,IAAIF,KAAOW,EAAIC,KAAK1D,MAAM0D,QAMlCN,EAAK,IAAIQ,EAAAA,GAAGC,SAASC,cAAc,YAAa,CAC9CC,UAAW,EACXC,OAAO,EACPC,YAAY,IAIdb,EAAGc,GAAG,UAAWC,IAKfd,EAAW5B,OAAS0C,EAASC,EAAId,EAAO7B,MAAM4C,gBAIhDjB,EAAGc,GAAG,aAAa,KACjBI,QAAQC,IAAI,aAIZ,MAAMzC,EAAO9B,EAAMiD,EAAYxB,OAAOK,KAAO,EAC7CwC,QAAQC,IAAI,QAAUtB,EAAYxB,MAAQ,OAASK,GACnDD,EAAaoB,EAAYxB,MAAOK,GAAM0B,MAAMC,IAC1CzD,EAAMiD,EAAYxB,OAAOqB,KAAKnD,QAAQ8D,EAAIC,KAAK1D,MAAM0D,MACrD1D,EAAMiD,EAAYxB,OAAOK,MAAQ,KAInCsB,EAAGoB,eACHpB,EAAGqB,gBASP,MAAMC,EAAYtG,IAChBuE,EAAMlB,MAAQrD,EACd,IAAIuG,EAAQ,CAAC,QAAS,MAAO,aAC7B1B,EAAYxB,MAAQkD,EAAMvG,IAE1BwG,EAAAA,EAAAA,KAAS,KAEPxB,GAAMA,EAAGqB,eAKbI,EAAAA,EAAAA,KAAY,MACVD,EAAAA,EAAAA,KAAS,KAEPxB,GAAMA,EAAGqB,gBAGb,MAAMK,EAAO,KAEX1B,EAAG2B,SAAS,EAAG,EAAG,MAGpB,MAAO,CACLhE,WAAAA,EACA4B,MAAAA,EACA+B,SAAAA,EACA1E,MAAAA,EACAkD,UAAAA,EACAG,WAAAA,EACAC,OAAAA,EACAwB,KAAAA,EACAjE,QAAAA,KQxLN,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASR,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://my_vue3_project/./src/components/content/goods/GoodsList.vue","webpack://my_vue3_project/./src/components/content/goods/GoodsListItem.vue","webpack://my_vue3_project/./src/components/content/goods/GoodsListItem.vue?b4c2","webpack://my_vue3_project/./src/components/content/goods/GoodsList.vue?edb4","webpack://my_vue3_project/./src/views/home/Home.vue","webpack://my_vue3_project/./src/views/home/ChildComps/Recommend.vue","webpack://my_vue3_project/./src/views/home/ChildComps/Recommend.vue?e2e1","webpack://my_vue3_project/./src/components/content/tabControl/TabControl.vue","webpack://my_vue3_project/./src/components/content/tabControl/TabControl.vue?0297","webpack://my_vue3_project/./src/network/home.js","webpack://my_vue3_project/./src/views/home/HomeSwiper/HomeSwiper.vue","webpack://my_vue3_project/./src/views/home/HomeSwiper/HomeSwiper.vue?b00d","webpack://my_vue3_project/./src/views/home/Home.vue?d8ad"],"sourcesContent":["<template>\r\n  <div class=\"goods\">\r\n      <GoodsListItem v-for=\"(item,index) in goods\" :key=\"item\" :product=\"item\"></GoodsListItem>\r\n \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsListItem from './GoodsListItem.vue'\r\nexport default {\r\n    name:'GoodsList',\r\n    props:{\r\ngoods:{\r\n    type:Array,\r\n    default(){\r\n        return []\r\n    }\r\n}\r\n    },\r\n    components:{\r\n        GoodsListItem,\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goods{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    padding: 5px;\r\n \r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"goods-list-item\" @click=\"itemClick\">\r\n    <img v-lazy=\"product.cover_url\" alt=\"\" />\r\n    <div class=\"goods-info\">\r\n      <p>{{product.title}}</p>\r\n      <span class=\"price\"><small>$</small>{{product.price}}</span>\r\n      <span class=\"collect\">{{product.collects_count}}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router';\r\nexport default {\r\n  name: \"GoodsListItem\",\r\n  props: {\r\n    product: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const router=useRouter()\r\n\r\n    const itemClick=()=>{\r\n      router.push({path:'/detail',query:{id:props.product.id}})\r\n    }\r\n\r\n\r\n    return {\r\n      itemClick\r\n    }\r\n    \r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.goods-list-item {\r\n  width: 45%;\r\n  padding-bottom: 40px;\r\n  position: relative;\r\n  \r\n}\r\n\r\n.goods-list-item img {\r\n  width: 100%;\r\n  border-radius: 5px;\r\n}\r\n\r\n.goods-list-item .goods-info {\r\n  font-size: 12px;\r\n  position: absolute;\r\n  bottom: 5px;\r\n  left: 0px;\r\n  right: 0px;\r\n \r\n}\r\n\r\n.goods-list-item .goods-info p {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.goods-list-item .goods-info .price {\r\n  color: red;\r\n  margin-right: 20px;\r\n \r\n}\r\n\r\n.goods-list-item .goods-info .collect {\r\n  position: relative;\r\n}\r\n\r\n.goods-list-item .goods-info .collect::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: -15px;\r\n  top: -1px;\r\n  width: 14px;\r\n  height: 14px;\r\n\r\n  background: url(\"~assets/images/collect1.png\") 0 0/14px 14px;\r\n}\r\n</style>","import { render } from \"./GoodsListItem.vue?vue&type=template&id=2d860f26&scoped=true\"\nimport script from \"./GoodsListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsListItem.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsListItem.vue?vue&type=style&index=0&id=2d860f26&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d860f26\"]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=e41a1ef0&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=e41a1ef0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e41a1ef0\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"home\">\r\n    <nav-bar>\r\n      <template v-slot:default> 图书兄弟 </template>\r\n    </nav-bar>\r\n\r\n    <tab-control\r\n      :titles=\"['畅销', '新书', '精选']\"\r\n      @tabClick=\"tabClick\"\r\n      v-show=\"isTabFixed\"\r\n    ></tab-control>\r\n\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n        <div ref=\"banref\">\r\n          <!-- <div class=\"banners\">\r\n            <img src=\"~assets/images/1.png\" alt=\"\" />\r\n          </div> -->\r\n          <home-swiper  :banners=\"banners\">\r\n          </home-swiper>\r\n\r\n          <recommend :recommends=\"recommends\"></recommend>\r\n        </div>\r\n\r\n        <tab-control\r\n          :titles=\"['畅销', '新书', '精选']\"\r\n          @tabClick=\"tabClick\"\r\n        ></tab-control>\r\n\r\n        <GoodsList :goods=\"showGoods\"></GoodsList>\r\n      </div>\r\n    </div>\r\n\r\n    <back-top v-show=\"isTabFixed\" @bTop=\"bTop\"></back-top>\r\n  </div>\r\n</template>\r\n\r\n<script >\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\nimport Recommend from \"views/home/ChildComps/Recommend\";\r\nimport TabControl from \"components/content/tabControl/TabControl\";\r\n// 回到顶部\r\nimport BackTop from \"components/common/backtop/BackTop\";\r\n\r\nimport { getHomeAllData, getHomeGoods } from \"network/home\";\r\nimport { onMounted, ref, reactive, computed, watchEffect, nextTick } from \"vue\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\n\r\nimport BS from \"better-scroll\";\r\n\r\n// 导入轮播图组件\r\nimport HomeSwiper from \"views/home/HomeSwiper/HomeSwiper\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    NavBar,\r\n    Recommend,\r\n    TabControl,\r\n    GoodsList,\r\n    BackTop,\r\n    HomeSwiper,\r\n  },\r\n\r\n  methods: {},\r\n\r\n  setup() {\r\n    const recommends = ref([]);\r\n    // 临时变量\r\n    let temid = ref(0);\r\n\r\n    // 商品列表数据的模型\r\n    const goods = reactive({\r\n      sales: { page: 1, list: [] },\r\n      recommend: { page: 1, list: [] },\r\n      new: { page: 1, list: [] },\r\n    });\r\n\r\n    let currentType = ref(\"sales\");\r\n    const showGoods = computed(() => {\r\n      return goods[currentType.value].list;\r\n    });\r\n\r\n    let bs = reactive({});\r\n\r\n    let isTabFixed = ref(false);\r\n\r\n    // 获取banner和recommend的高度\r\n    let banref = ref(null);\r\n\r\n    // 轮播图数据\r\n    let banners = ref([]);\r\n\r\n    onMounted(() => {\r\n      getHomeAllData().then((res) => {\r\n        // console.log(res.data.goods);\r\n        recommends.value = res.data.goods.data;\r\n\r\n        banners.value = res.data.slides;\r\n      });\r\n\r\n      getHomeGoods(\"sales\").then((res) => {\r\n        // console.log(res);\r\n        goods.sales.list = res.data.goods.data;\r\n      });\r\n\r\n      getHomeGoods(\"recommend\").then((res) => {\r\n        // console.log(res);\r\n\r\n        goods.recommend.list = res.data.goods.data;\r\n      });\r\n\r\n      getHomeGoods(\"new\").then((res) => {\r\n        // console.log(res);\r\n        goods.new.list = res.data.goods.data;\r\n      });\r\n\r\n      // console.log(goods);\r\n\r\n      // 创建better-scroll对象\r\n      bs = new BS(document.querySelector(\".wrapper\"), {\r\n        probeType: 3, //0,1,2,3只要在运动就触发scroll事件\r\n        click: true,\r\n        pullUpLoad: true, //上拉加载更多\r\n      });\r\n\r\n      // 触发滚动事件\r\n      bs.on(\"scroll\", (position) => {\r\n        // console.log('banner+recommend的高度是：'+banref.value.offsetHeight);\r\n        // console.log(position.y);\r\n\r\n        // isTabFixed.value,一定不能忘了value\r\n        isTabFixed.value = -position.y > banref.value.offsetHeight;\r\n      });\r\n\r\n      // 上拉加载数据\r\n      bs.on(\"pullingUp\", () => {\r\n        console.log(\"上拉加载更多...\");\r\n\r\n        // console.log(document.querySelector(\"content\").clientHeight);\r\n\r\n        const page = goods[currentType.value].page + 1;\r\n        console.log(\"当前类型:\" + currentType.value + \"当前页：\" + page);\r\n        getHomeGoods(currentType.value, page).then((res) => {\r\n          goods[currentType.value].list.push(...res.data.goods.data);\r\n          goods[currentType.value].page += 1;\r\n        });\r\n\r\n        // 完成上拉，等数据请求完成，要将数据展示出来\r\n        bs.finishPullUp();\r\n        bs.refresh();\r\n      });\r\n\r\n      // nextTick(() => {\r\n      //   // 重新计算高度\r\n      //   bs && bs.refresh();\r\n      // });\r\n    });\r\n\r\n    const tabClick = (index) => {\r\n      temid.value = index;\r\n      let types = [\"sales\", \"new\", \"recommend\"];\r\n      currentType.value = types[index];\r\n\r\n      nextTick(() => {\r\n        // 重新计算高度\r\n        bs && bs.refresh();\r\n      });\r\n    };\r\n\r\n    // 监听：任何一个变量有变化\r\n    watchEffect(() => {\r\n      nextTick(() => {\r\n        // 重新计算高度\r\n        bs && bs.refresh();\r\n      });\r\n    });\r\n    const bTop = () => {\r\n      // console.log('click to top');\r\n      bs.scrollTo(0, 0, 500);\r\n    };\r\n\r\n    return {\r\n      recommends,\r\n      temid,\r\n      tabClick,\r\n      goods,\r\n      showGoods,\r\n      isTabFixed,\r\n      banref,\r\n      bTop,\r\n      banners,\r\n      \r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.banners img {\r\n  width: 100%;\r\n  height: auto;\r\n  /* margin-top: 45px; */\r\n}\r\n\r\n#home {\r\n  height: 100vh;\r\n  position: relative;\r\n}\r\n\r\n.wrapper {\r\n  position: absolute;\r\n  top: 45px;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow: hidden;\r\n  /* background: red; */\r\n}\r\n</style>","<template>\r\n  <div class=\"recommend\">\r\n    <div\r\n      class=\"recommend-item\"\r\n      v-for=\"(item, index) in recommends.slice(0, 4)\"\r\n      :key=\"item.id\"\r\n    >\r\n      <a href=\"\" @click.prevent=\"goDetail(item.id)\"\r\n        ><img v-lazy=\"item.cover_url\" alt=\"\" />\r\n        <div>{{ item.title }}</div></a\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router';\r\n\r\n\r\nexport default {\r\n  name: \"Recommend\",\r\n  props: {\r\n    recommends: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n\r\n  setup() {\r\n      const router=useRouter();\r\n      const goDetail=(id)=>{\r\n          router.push({path:'/detail',query:{id}})\r\n          \r\n      }\r\n\r\n      return {\r\n          goDetail,\r\n      }\r\n\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped >\r\n.recommend {\r\n  width: 100%;\r\n  display: flex;\r\n  text-align: center;\r\n  padding: 15px 0 30px;\r\n  border-bottom: 8px solid #eee;\r\n  font-size: 12px;\r\n}\r\n\r\n.recommend-item {\r\n  flex: 1;\r\n}\r\n\r\n.recommend-item img {\r\n  margin-bottom: 10px;\r\n  width: 70px;\r\n  height: 70px;\r\n}\r\n</style>","import { render } from \"./Recommend.vue?vue&type=template&id=640466aa&scoped=true\"\nimport script from \"./Recommend.vue?vue&type=script&lang=js\"\nexport * from \"./Recommend.vue?vue&type=script&lang=js\"\n\nimport \"./Recommend.vue?vue&type=style&index=0&id=640466aa&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-640466aa\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"tab-control\">\r\n    <div\r\n      class=\"tab-control-item\"\r\n      v-for=\"(item, index) in titles\"\r\n      :key=\"index\"\r\n      @click=\"itemClick(index)\"\r\n      :class=\"{active:index==currentIndex}\"\r\n    >\r\n      <span>{{ item }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nexport default {\r\n  name: \"TabControl\",\r\n  props: {\r\n    titles: {\r\n      type: Array,\r\n      default: [],\r\n    },\r\n  },\r\n  setup(props,{emit}) {\r\n    let currentIndex = ref(0);\r\n\r\n    const itemClick = (index) => {\r\n      currentIndex.value = index;\r\n      emit('tabClick',index)\r\n    };\r\n\r\n    return {\r\n      currentIndex,\r\n      itemClick,\r\n\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped >\r\n.tab-control {\r\n  display: flex;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  background-color: white;\r\n  width: 100%;\r\n  position: sticky;\r\n  top:45px;\r\n  z-index: 10;\r\n}\r\n.tab-control .tab-control-item {\r\n  flex: 1;\r\n}\r\n\r\n.tab-control .active {\r\n  color: var(--color-tint);\r\n}\r\n\r\n.tab-control .active span {\r\n  border-bottom: 3px solid var(--color-tint);\r\n}\r\n.tab-control-item span {\r\n  padding: 6px;\r\n}\r\n</style>","import { render } from \"./TabControl.vue?vue&type=template&id=6b6e80db&scoped=true\"\nimport script from \"./TabControl.vue?vue&type=script&lang=js\"\nexport * from \"./TabControl.vue?vue&type=script&lang=js\"\n\nimport \"./TabControl.vue?vue&type=style&index=0&id=6b6e80db&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b6e80db\"]])\n\nexport default __exports__","import {\r\n    request\r\n} from \"./request\";\r\n\r\n\r\nexport function getHomeAllData() {\r\n    return request({\r\n        url: '/api/index',\r\n\r\n    })\r\n}\r\n\r\n\r\nexport function getHomeGoods(type = 'sales', page = 1) {\r\n    return request({\r\n        url: '/api/index?' + type + '=1&page=' + page,\r\n\r\n    })\r\n}","<template>\r\n  <van-swipe\r\n    v-if=\"banners.length\"\r\n    class=\"my-swipe\"\r\n    :autoplay=\"3000\"\r\n    indicator-color=\"white\"\r\n  >\r\n    <van-swipe-item v-for=\"(item, index) in banners\" :key=\"index\">\r\n      <img class=\"bannerImg\" v-lazy=\"item.img_url\" alt=\"\" />\r\n    </van-swipe-item>\r\n  </van-swipe>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HomeSwiper\",\r\n  props: {\r\n    banners: Array,\r\n    default() {\r\n      return [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* .my-swipe .van-swipe-item {\r\n  color: #fff;\r\n  font-size: 20px;\r\n  line-height: 150px;\r\n  text-align: center;\r\n  background-color: #39a9ed;\r\n} */\r\n\r\n.bannerImg {\r\n  width: 100%;\r\n  height: 150px;\r\n}\r\n</style>","import { render } from \"./HomeSwiper.vue?vue&type=template&id=64639992&scoped=true\"\nimport script from \"./HomeSwiper.vue?vue&type=script&lang=js\"\nexport * from \"./HomeSwiper.vue?vue&type=script&lang=js\"\n\nimport \"./HomeSwiper.vue?vue&type=style&index=0&id=64639992&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64639992\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=7a99cc2b&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=7a99cc2b&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7a99cc2b\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$props","item","index","_createBlock","_component_GoodsListItem","key","product","alt","_createElementVNode","onClick","$setup","cover_url","_toDisplayString","title","_hoisted_4","price","collects_count","name","props","Object","default","setup","router","useRouter","itemClick","push","path","query","id","__exports__","goods","type","Array","components","GoodsListItem","render","ref","_createVNode","_component_nav_bar","_component_tab_control","titles","onTabClick","_component_home_swiper","banners","_component_recommend","recommends","_component_GoodsList","_component_back_top","onBTop","slice","href","goDetail","active","emit","currentIndex","value","getHomeAllData","request","url","getHomeGoods","page","length","_component_van_swipe","autoplay","_component_van_swipe_item","img_url","NavBar","Recommend","TabControl","GoodsList","BackTop","HomeSwiper","methods","temid","reactive","sales","list","recommend","new","currentType","showGoods","computed","bs","isTabFixed","banref","onMounted","then","res","data","slides","BS","document","querySelector","probeType","click","pullUpLoad","on","position","y","offsetHeight","console","log","finishPullUp","refresh","tabClick","types","nextTick","watchEffect","bTop","scrollTo"],"sourceRoot":""}