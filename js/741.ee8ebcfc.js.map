{"version":3,"file":"js/741.ee8ebcfc.js","mappings":"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","sources":["webpack://my_vue3_project/./src/components/common/navbar/NavBar.vue","webpack://my_vue3_project/./src/components/common/navbar/NavBar.vue?c028","webpack://my_vue3_project/./src/components/content/goods/GoodsList.vue","webpack://my_vue3_project/./src/components/content/goods/GoodsListItem.vue","webpack://my_vue3_project/./src/components/content/goods/GoodsListItem.vue?b4c2","webpack://my_vue3_project/./src/components/content/goods/GoodsList.vue?edb4","webpack://my_vue3_project/./src/views/detail/Detail.vue","webpack://my_vue3_project/./src/network/detail.js","webpack://my_vue3_project/./src/views/detail/Detail.vue?6711"],"sourcesContent":["<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"left\" @click=\"goback\">\r\n      <slot name=\"left\">\r\n        <img src=\"~assets/images/left.png\" alt=\"\" />\r\n      </slot>\r\n    </div>\r\n    <div class=\"center\">\r\n      <slot>default</slot>\r\n    </div>\r\n    <div class=\"right\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nexport default {\r\n  name: \"NavBar\",\r\n\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const goback = () => {\r\n      //   console.log(\"goback\");\r\n      //   router.go(delta:-1);\r\n      router.go(-1);\r\n    };\r\n\r\n    return {\r\n      goback,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.nav-bar {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 9;\r\n  height: 45px;\r\n  line-height: 45px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 0 rgba(100, 100, 100, 0.1);\r\n  display: flex;\r\n}\r\n\r\n.left,\r\n.right {\r\n  width: 60px;\r\n}\r\n\r\n.left img {\r\n  width: 45px;\r\n  height: 45px;\r\n  padding: 13px;\r\n}\r\n.nav-bar .center {\r\n  flex: 1;\r\n  /* background-color: red; */\r\n}\r\n</style>","import { render } from \"./NavBar.vue?vue&type=template&id=22cb7b90&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=22cb7b90&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22cb7b90\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"goods\">\r\n      <GoodsListItem v-for=\"(item,index) in goods\" :key=\"item\" :product=\"item\"></GoodsListItem>\r\n \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsListItem from './GoodsListItem.vue'\r\nexport default {\r\n    name:'GoodsList',\r\n    props:{\r\ngoods:{\r\n    type:Array,\r\n    default(){\r\n        return []\r\n    }\r\n}\r\n    },\r\n    components:{\r\n        GoodsListItem,\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goods{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    padding: 5px;\r\n \r\n}\r\n\r\n</style>","<template>\r\n  <div class=\"goods-list-item\" @click=\"itemClick\">\r\n    <img v-lazy=\"product.cover_url\" alt=\"\" />\r\n    <div class=\"goods-info\">\r\n      <p>{{product.title}}</p>\r\n      <span class=\"price\"><small>$</small>{{product.price}}</span>\r\n      <span class=\"collect\">{{product.collects_count}}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router';\r\nexport default {\r\n  name: \"GoodsListItem\",\r\n  props: {\r\n    product: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const router=useRouter()\r\n\r\n    const itemClick=()=>{\r\n      router.push({path:'/detail',query:{id:props.product.id}})\r\n    }\r\n\r\n\r\n    return {\r\n      itemClick\r\n    }\r\n    \r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.goods-list-item {\r\n  width: 45%;\r\n  padding-bottom: 40px;\r\n  position: relative;\r\n  \r\n}\r\n\r\n.goods-list-item img {\r\n  width: 100%;\r\n  border-radius: 5px;\r\n}\r\n\r\n.goods-list-item .goods-info {\r\n  font-size: 12px;\r\n  position: absolute;\r\n  bottom: 5px;\r\n  left: 0px;\r\n  right: 0px;\r\n \r\n}\r\n\r\n.goods-list-item .goods-info p {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  margin-bottom: 3px;\r\n}\r\n\r\n.goods-list-item .goods-info .price {\r\n  color: red;\r\n  margin-right: 20px;\r\n \r\n}\r\n\r\n.goods-list-item .goods-info .collect {\r\n  position: relative;\r\n}\r\n\r\n.goods-list-item .goods-info .collect::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: -15px;\r\n  top: -1px;\r\n  width: 14px;\r\n  height: 14px;\r\n\r\n  background: url(\"~assets/images/collect1.png\") 0 0/14px 14px;\r\n}\r\n</style>","import { render } from \"./GoodsListItem.vue?vue&type=template&id=2d860f26&scoped=true\"\nimport script from \"./GoodsListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsListItem.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsListItem.vue?vue&type=style&index=0&id=2d860f26&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d860f26\"]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=e41a1ef0&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=e41a1ef0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e41a1ef0\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <nav-bar>\r\n      <template v-slot:default> 商品详情:{{ id }} </template>\r\n    </nav-bar>\r\n\r\n    <van-image\r\n      width=\"100%\"\r\n      lazy-load\r\n      style=\"margin-top: 50px\"\r\n      :src=\"detail.cover_url\"\r\n    />\r\n\r\n    <van-card\r\n      style=\"text-align: left\"\r\n      :num=\"detail.stock\"\r\n      :price=\"detail.price + '.00'\"\r\n      :desc=\"detail.description\"\r\n      :title=\"detail.title\"\r\n    >\r\n      <template #tags>\r\n        <van-tag plain type=\"danger\">热卖</van-tag>\r\n        <van-tag plain type=\"danger\">新书</van-tag>\r\n      </template>\r\n      <template #footer>\r\n        <van-button type=\"warning\" @click=\"handlerAddCart\"\r\n          >加入购物车</van-button\r\n        >\r\n        <van-button type=\"danger\" @click=\"goToCart\">立即购买</van-button>\r\n      </template>\r\n    </van-card>\r\n\r\n    <van-tabs v-model:active=\"active\">\r\n      <van-tab title=\"概述\">\r\n        <div class=\"content\" v-html=\"detail.details\"></div>\r\n      </van-tab>\r\n      <van-tab title=\"评论\"> </van-tab>\r\n      <van-tab title=\"相关\">\r\n        <goods-list :goods=\"like_goods\"></goods-list>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { ref, onMounted, reactive, toRefs } from \"vue\";\r\nimport { getDetail } from \"network/detail\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\nimport { addCart, getCart } from \"network/cart\";\r\nimport { Toast } from \"vant\";\r\nimport { useStore } from \"vuex\";\r\nexport default {\r\n  name: \"Detail\",\r\n  components: {\r\n    NavBar,\r\n    GoodsList,\r\n  },\r\n\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const store = useStore();\r\n\r\n    let id = ref(0);\r\n\r\n    let book = reactive({\r\n      detail: {},\r\n      like_goods: [],\r\n      comments: [],\r\n    });\r\n\r\n    let active = ref(1);\r\n\r\n    onMounted(() => {\r\n      id.value = route.query.id;\r\n\r\n      // 获取商品详情信息\r\n      getDetail(id.value).then((res) => {\r\n        // console.log(res);\r\n        book.detail = res.data.goods;\r\n        book.like_goods = res.data.like_goods;\r\n      });\r\n    });\r\n\r\n    // 添加购物车\r\n    const handlerAddCart = () => {\r\n      // console.log('add shopcart');\r\n      addCart({ goods_id: book.detail.id, num: 1 }).then((res) => {\r\n        // console.log(res);\r\n        if (res.status == \"201\" || res.status == \"204\") {\r\n          Toast.success(\"成功加入到购物车\");\r\n          store.dispatch(\"updateCart\");\r\n        }\r\n      });\r\n    };\r\n    // 立即购买\r\n    const goToCart = () => {\r\n      // console.log('buy right now');\r\n      addCart({ goods_id: book.detail.id, num: 1 }).then((res) => {\r\n        console.log(res);\r\n        if (res.status == \"201\" || res.status == \"204\") {\r\n          Toast.success(\"成功加入到购物车\");\r\n          store.dispatch(\"updateCart\");\r\n\r\n          // 跳转到购物车页面\r\n          router.push({ path: \"/shopcart\" });\r\n        }\r\n      });\r\n    };\r\n\r\n    return {\r\n      id,\r\n      ...toRefs(book),\r\n      active,\r\n      handlerAddCart,\r\n      goToCart,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\r\n<style >\r\n.content {\r\n  padding: 10px;\r\n}\r\n\r\n.content img {\r\n  max-width: 100%;\r\n  height: auto;\r\n}\r\n</style>","import {request} from './request';\r\n\r\n\r\n\r\nexport function getDetail(id){\r\n    return request({\r\n        url:\"/api/goods/\"+id,\r\n        \r\n    })\r\n}","import { render } from \"./Detail.vue?vue&type=template&id=0beb0e14\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=0beb0e14&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\wangj\\\\Desktop\\\\vue3_project\\\\my_vue3_project-master\\\\BooksBro\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","onClick","$setup","_renderSlot","_ctx","_hoisted_2","undefined","name","setup","router","useRouter","goback","go","__exports__","render","_Fragment","_renderList","$props","item","index","_createBlock","_component_GoodsListItem","key","product","cover_url","_toDisplayString","title","_hoisted_4","price","collects_count","props","Object","default","itemClick","push","path","query","id","goods","type","Array","components","GoodsListItem","_createVNode","_component_nav_bar","_component_van_image","width","style","_component_van_card","num","stock","desc","description","tags","_component_van_tag","plain","footer","_component_van_button","_component_van_tabs","active","$event","_component_van_tab","innerHTML","details","_component_goods_list","getDetail","request","url","NavBar","GoodsList","route","useRoute","store","useStore","ref","book","reactive","detail","like_goods","comments","onMounted","value","then","res","data","handlerAddCart","addCart","goods_id","status","dispatch","goToCart","console","log","toRefs"],"sourceRoot":""}